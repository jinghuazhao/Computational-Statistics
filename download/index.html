<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Download - Computational Statistics</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/Bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/HTML.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/Java.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/JavaScript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/Perl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/Python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/R.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">Computational Statistics</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link"></a>
                            </li>
                            <li class="navitem">
                                <a href="../AI/" class="nav-link">AI</a>
                            </li>
                            <li class="navitem">
                                <a href="../Computing/" class="nav-link">Computing</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Web <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Download</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web development</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Flask/" class="dropdown-item">Flask</a>
</li>
            
<li>
    <a href="../mythic-beasts/" class="dropdown-item">mythic-beasts</a>
</li>
            
<li>
    <a href="../plumber/" class="dropdown-item">plumber</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Selected topcs <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../INSTALL/" class="dropdown-item">Installation notes</a>
</li>
                                    
<li>
    <a href="../LANGUAGES/" class="dropdown-item">Language notes</a>
</li>
                                    
<li>
    <a href="../PARALLEL/" class="dropdown-item">Parallel computing</a>
</li>
                                    
<li>
    <a href="../REPRODUCE/" class="dropdown-item">Reproducible research</a>
</li>
                                    
<li>
    <a href="../SYSTEMS/" class="dropdown-item">System-related materials</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Computing/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Flask/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/jinghuazhao/Computational-Statistics" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#utitlities-for-downloads" class="nav-link">Utitlities for downloads</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#aria2" class="nav-link">aria2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#wget" class="nav-link">wget</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#lftp" class="nav-link">lftp</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#dash" class="nav-link">dash</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#djvulibre" class="nav-link">djvulibre</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#google-chrome" class="nav-link">Google-chrome</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#locale" class="nav-link">locale</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sphinx" class="nav-link">sphinx</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#synchronisation" class="nav-link">Synchronisation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#web-site-file-permission" class="nav-link">Web site file permission</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="utitlities-for-downloads">Utitlities for downloads</h1>
<h2 id="aria2">aria2</h2>
<p>Web: <a href="https://aria2.github.io/">https://aria2.github.io/</a>.</p>
<p>The first example, <code>aria2c -c -j10 -i ../urls.txt</code>, specifies that to continue (-c) interrupted download, to use 10 concurrent threads (-j10) and use links in <code>urls.txt</code>.</p>
<p>The second example uses - as input: <code>echo https://download.decode.is/s3/download?token=68278faa-0b69-47a0-8fcb-5e7f4057004d&amp;file=10023_32_VDR_VDR.txt.gz | aria2c -i -</code>.</p>
<h2 id="wget">wget</h2>
<p>Some useful instances are as follows,</p>
<pre><code class="language-bash">wget -nd --execute=&quot;robots = off&quot; --mirror --convert-links --no-parent --wait=5 http://ftp.ebi.ac.uk/pub/databases/spot/eQTL/csv/GTEx_V8/ge/
wget --no-check-certificate https://omicscience.org/apps/pgwas/data/all.grch37.tabix.gz
wget --no-check-certificate https://omicscience.org/apps/pgwas/data/all.grch37.tabix.gz.tbi
</code></pre>
<p>To keep the original timestamp, use -S option.</p>
<p>It could be the appropriate way to download directory from a GitHub repository, e.g., <code>git clone https://github.com/statgen/locuszoom.git</code> for <code>https://github.com/statgen/locuszoom/tree/develop/examples/data</code>.</p>
<h2 id="lftp">lftp</h2>
<p>This is a sophisticated file transfer program.</p>
<p>Non-interactive authentication for both <code>ftp</code> and <code>sftp</code> can be enabled by <code>lftp</code>, which can be installed with</p>
<pre><code class="language-bash"># Fedora
sudo dnf install lftp
# Ubuntu
sudo apt install lftp
</code></pre>
<p>Note in both cases command delimiters are required.</p>
<p>Usage example: <code>lftp -c mirror https://ftp.ebi.ac.uk/pub/databases/gwas/summary_statistics/GCST90086001-GCST90087000/</code>.</p>
<p>The options of mirror can be seen with <code>help mirror</code> inside lftp; once done type <code>quit</code> to exit.</p>
<h3 id="-ftp-">--- ftp ---</h3>
<p>We use GENCODE, <a href="https://www.gencodegenes.org/human/">https://www.gencodegenes.org/human/</a> (<a href="https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/">https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/</a>), to illustrate,</p>
<p>The following code is used to download release_43.</p>
<pre><code class="language-bash">#!/usr/bin/bash

HOST=ftp.ebi.ac.uk
USER=anonymous
PASS=s@cam.ac.uk
FTPURL=ftp://$USER:$PASS@$HOST
LCD=.
RCD=/pub/databases/gencode/Gencode_human/release_43

lftp $HOST &lt;&lt;END
set ftp:list-options -a;
open '$FTPURL';
lcd $LCD;
cd $RCD;
mirror --parallel=15 --log=ftp.log --verbose;
bye;
END
</code></pre>
<p>Note to put files is possible with -R option.</p>
<p>There might be issue with certificate which can be around (though not recommented!), as in the example involving <code>tandem</code> (<a href="https://www.thegpm.org/TANDEM/">https://www.thegpm.org/TANDEM/</a>),</p>
<pre><code class="language-bash"># FTP server details
HOST=&quot;ftp.thegpm.org&quot;
USER=&quot;anonymous&quot;
PASS=&quot;s@cam.ac.uk&quot;
FTPURL=&quot;ftp://${USER}:${PASS}@${HOST}&quot;

# Local and remote directories
LCD=&quot;.&quot;
RCD=&quot;/&quot;

lftp -u &quot;$USER&quot;,&quot;$PASS&quot; -e 'set ftp:ssl-allow no; lcd &quot;$LCD&quot;; cd &quot;$RCD&quot;; mirror --parallel=15 --log=ftp.log --verbose; bye' $HOST
</code></pre>
<h3 id="-sftp-">--- sftp ---</h3>
<pre><code class="language-bash">export HOST=
export USER=
export PASS=

export RVA=/rds/project/jmmh2/rds-jmmh2-projects/olink_proteomics/scallop/SCALLOP-Seq/rva
lftp -c &quot;open sftp://${USER}:${PASS}@${HOST}:/genetic_data/for_Grace;mirror -c -P=20 -R -v ${RVA}&quot;
</code></pre>
<p>See <a href="https://linuxconfig.org/lftp-tutorial-on-linux-with-examples">https://linuxconfig.org/lftp-tutorial-on-linux-with-examples</a>.</p>
<p>the following error</p>
<blockquote>
<p>Unable to negotiate with xxx.xxx.xxx.xxx port 22: no matching key exchange method found. Their offer: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1</p>
</blockquote>
<p>can be fixed with ssh/sftp as follows,</p>
<pre><code class="language-bash">sftp -oKexAlgorithms=+diffie-hellman-group1-sha1 user@host
</code></pre>
<h2 id="dash">dash</h2>
<h3 id="-python-">--- Python ---</h3>
<p>This illustrates under Ubuntu 21.10 the demo <code>dash-drug-discovery</code>, <a href="https://dash.gallery/dash-drug-discovery/">https://dash.gallery/dash-drug-discovery/</a>.
The source is a zipped file available from <a href="https://github.com/plotly/dash-sample-apps/releases">https://github.com/plotly/dash-sample-apps/releases</a>.</p>
<pre><code class="language-bash">sudo apt install python3.9-venv
python3 -m venv myvenv
source myvenv/bin/activate
pip install pandas
pip install dash
pip install gunicorn
unzip dash-drug-discovery.zip
cd dash-drug-discovery
python app.py
</code></pre>
<p>The output from last line is seen from <code>firefox</code> with URL http://127.0.0.1:8050.</p>
<h3 id="-r-">--- R ---</h3>
<p>The R package <code>dash</code> is available from <a href="https://CRAN.R-project.org/package=dash">https://CRAN.R-project.org/package=dash</a>, documented
from <a href="https://dash.plotly.com/r">https://dash.plotly.com/r</a>, and the simplest demo is as follows,</p>
<pre><code class="language-r">library(dash)
app &lt;- dash_app()

app %&gt;% set_layout(&quot;hello&quot;, &quot;Dash&quot;)
app %&gt;% set_layout(div(&quot;hello&quot;), &quot;Dash&quot;)
app %&gt;% set_layout(list(div(&quot;hello&quot;), &quot;Dash&quot;))
app %&gt;% set_layout(&quot;Conditional UI using an if statement: &quot;,
                   if (TRUE) &quot;rendered&quot;,
                   if (FALSE) &quot;not rendered&quot;)
app %&gt;% set_layout(function() { div(&quot;Current time: &quot;, Sys.time()) })
app
</code></pre>
<p>A plotly figure (e.g., <a href="https://plotly-r.com/">https://plotly-r.com/</a> can be passed on as follows,</p>
<pre><code class="language-r">library(plotly)
fig &lt;- plot_ly()
# fig &lt;- fig %&gt;% add_trace( ... )
# fig &lt;- fig %&gt;% layout( ... )

library(dash)
library(dashCoreComponents)
library(dashHtmlComponents)

app &lt;- Dash$new()
app$layout(
    htmlDiv(
        list(
            dccGraph(figure=fig)
        )
     )
)

app$run_server(debug=TRUE, dev_tools_hot_reload=FALSE)
</code></pre>
<p>The view requires WebGL, see <a href="https://get.webgl.org">https://get.webgl.org</a>.</p>
<h2 id="djvulibre">djvulibre</h2>
<pre><code class="language-bash">wget https://github.com/barak/djvulibre/archive/debian/3.5.27.1-14.zip
unzip  3.5.27.1-14.zip |more
cd djvulibre-debian-3.5.27.1-14/
./autogen.sh
configure --prefix=/rds-d4/user/jhz22/hpc-work/
make
make install
</code></pre>
<h2 id="google-chrome">Google-chrome</h2>
<p>Installation is possible with</p>
<pre><code class="language-bash">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo dpkg -i google-chrome-stable_current_amd64.deb
</code></pre>
<p>then the Google repository is also added.</p>
<h3 id="mobile-tethering">Mobile tethering</h3>
<p>See information from here,</p>
<p><a href="https://ee.co.uk/help/help-new/network-and-coverage/tethering-or-sharing-internet/how-do-i-share-my-devices-data-connection-through-a-personal-hotspot-or-tethering">https://ee.co.uk/help/help-new/network-and-coverage/tethering-or-sharing-internet/how-do-i-share-my-devices-data-connection-through-a-personal-hotspot-or-tethering</a>.</p>
<h2 id="locale">locale</h2>
<p>This is an example to convert from French encoding,</p>
<pre><code class="language-bash">#!/usr/bin/bash

if [ ! -d ascii ]; then mkdir ascii; fi
cd ascii
echo $LANG
export LANG=en_US.utf8
iconv  -c -f UTF-8 -t &quot;ASCII//TRANSLIT&quot; ../&quot;Data Graph Categorization.csv&quot; &gt; &quot;Data Graph Categorization.csv&quot;
iconv  -c -f UTF-8 -t &quot;ASCII//TRANSLIT&quot; ../&quot;Data Graph Coverage Text Books 1980-2016.csv&quot; &gt; &quot;Data Graph Coverage Text Books 1980-2016.csv&quot;
iconv  -c -f UTF-8 -t &quot;ASCII//TRANSLIT&quot; ../&quot;Data Graph Features.csv&quot; &gt; &quot;Data Graph Features.csv&quot;
iconv  -c -f UTF-8 -t &quot;ASCII//TRANSLIT&quot; ../&quot;R Code Data Analyses.R&quot; &gt; &quot;R Code Data Analyses.R&quot; # needs comment on -prev_p[order(-prev_p[,3]),]
iconv  -c -f UTF-8 -t &quot;ASCII//TRANSLIT&quot; ../&quot;R Code Figures.R&quot; &gt; &quot;R Code Figures.R&quot;
R --no-save &lt; &quot;R Code Data Analyses.R&quot;
R --no-save &lt; &quot;R Code Figures.R&quot;
cd -
</code></pre>
<p>as in the following paper,</p>
<p>Kossmeier et al. Charting the landscape of graphical displays for meta-analysis and systematic reviews: a comprehensive review, taxonomy, and feature analysis. BMC Medical Research Methodology (2020) 20:26, https://doi.org/10.1186/s12874-020-0911-9</p>
<p>Perhaps a somewhat easier way to do is through RStudio's <code>File</code> --&gt; <code>Save with Encoding</code> and choose <code>UTF-8</code>.</p>
<h3 id="google-document-and-endnote">Google document and EndNote</h3>
<p>It is possible to insert citation from an EndNote library, download as RTF more preferably OpenDocument format, and recover the citations through Tools --&gt; Format paper, e.g.,</p>
<p><a href="https://libguides.jcu.edu.au/endnote/google-docs">https://libguides.jcu.edu.au/endnote/google-docs</a></p>
<h2 id="sphinx">sphinx</h2>
<p>The sequence below follows, <a href="https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html">https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html</a>.</p>
<pre><code class="language-bash">module load python/3.6
virtualenv --system-site-package venv
source venv/bin/activate
pip install sphinx
mkdir docs
cd docs
sphinx-quickstart
make html
pip install recommonmark
</code></pre>
<h2 id="synchronisation">Synchronisation</h2>
<p>We can employ <code>rsync</code> to synchronise the working node to the web space, e.g.,</p>
<pre><code class="language-bash">rsync -avrzP $HOME/public_html shell.srcf.net:/public/$HOME
</code></pre>
<p>Note that it works equally well for backup of files locally.</p>
<p>A replacement of <code>cp</code> is furnished with <code>rsync -av --progress source/ destination/</code>.</p>
<h2 id="web-site-file-permission">Web site file permission</h2>
<p>The following commands set read permission to a web site hosted at <code>/public/$HOME/public_html</code>.</p>
<pre><code class="language-bash">chmod -R +r /public/$HOME/public_html
find /public/$HOME/public_html -type d -exec chmod +x {} \;
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
